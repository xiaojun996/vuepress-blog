---
title: ç¬¬6é¢˜-Z å­—å½¢å˜æ¢
date: 2020-8-20 19:01:25
permalink: /pages/c357bf/
categories:
  - LeetCode
tags:
  - ç®—æ³•
---

# [zigzag-conversion ğŸ”—](https://leetcode-cn.com/problems/zigzag-conversion/)

å°†ä¸€ä¸ªç»™å®šå­—ç¬¦ä¸²æ ¹æ®ç»™å®šçš„è¡Œæ•°ï¼Œä»¥ä»ä¸Šå¾€ä¸‹ã€ä»å·¦åˆ°å³è¿›è¡Œ Z å­—å½¢æ’åˆ—ã€‚

æ¯”å¦‚è¾“å…¥å­—ç¬¦ä¸²ä¸º "LEETCODEISHIRING" è¡Œæ•°ä¸º 3 æ—¶ï¼Œæ’åˆ—å¦‚ä¸‹ï¼š

```
L   C   I   R
E T O E S I I G
E   D   H   N
```

ä¹‹åï¼Œä½ çš„è¾“å‡ºéœ€è¦ä»å·¦å¾€å³é€è¡Œè¯»å–ï¼Œäº§ç”Ÿå‡ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ï¼š"LCIRETOESIIGEDHN"ã€‚

è¯·ä½ å®ç°è¿™ä¸ªå°†å­—ç¬¦ä¸²è¿›è¡ŒæŒ‡å®šè¡Œæ•°å˜æ¢çš„å‡½æ•°ï¼š

```
string convert(string s, int numRows);
```

#### ç¤ºä¾‹ 1:

```
è¾“å…¥: s = "LEETCODEISHIRING", numRows = 3
è¾“å‡º: "LCIRETOESIIGEDHN"
```

#### ç¤ºä¾‹ 2:

```
è¾“å…¥: s = "LEETCODEISHIRING", numRows =Â 4
è¾“å‡º:Â "LDREOEIIECIHNTSG"
è§£é‡Š:

L     D     R
E   O E   I I
E C   I H   N
T     S     G
```

<!-- more -->

## reduce()

### æ€è·¯

- ç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸º numRows çš„æ•°ç»„ conversionArr ï¼Œåš reduce çš„åˆå§‹ç´¯è®¡å™¨
- é—´éš” = numRowsâœ–ï¸2 â– 2
- è®¡ç®— [å½“å‰ç´¢å¼• currentIndex % é—´éš”, é—´éš” - (å½“å‰ç´¢å¼• currentIndex % é—´éš”)] çš„æœ€å°å€¼ï¼Œä½œä¸ºä¸‹æ ‡
  - æ¯”å¦‚ numRows ç­‰äº 3 è¡Œæ—¶ é—´éš” = 4
  - currentIndex ä¸º 0 æ—¶ 0 è¡Œ
  - currentIndex ä¸º 1 æ—¶ 1 è¡Œ
  - currentIndex ä¸º 2 æ—¶ 2 è¡Œ
  - currentIndex ä¸º 3 æ—¶ 1 è¡Œ
  - currentIndex ä¸º 4 æ—¶ 0 è¡Œ
  - Â·Â·Â·

### ä»£ç 

```JavaScript
/**
 * @param {string} s
 * @param {number} numRows
 * @return {string}
 */
const convert = function (s, numRows) {
  // å¦‚æœåªæœ‰ä¸€è¡Œï¼Œç›´æ¥è¿”å›å­—ç¬¦ä¸²
  if (numRows === 1) return s

  // ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸ªæ•°ç­‰äºè¡Œæ•°
  const conversionArr = new Array(numRows).fill('')

  // æŠŠå­—ç¬¦ä¸²å˜æˆæ•°ç»„
  const strArr = [...s]

  // 3è¡Œ æ—¶  1 --- 5
  // 4è¡Œ æ—¶  1 --- 7
  // 5è¡Œ æ—¶  1 --- 9
  // 6è¡Œ æ—¶  1 --- 11
  // é—´éš” = è¡Œæ•°âœ–ï¸2 â– 2
  const é—´éš” = numRows * 2 - 2

  return strArr
    .reduce((accumulator, currentValue, currentIndex) => {
      // åˆ¤æ–­åœ¨ç¬¬å‡ è¡Œ
      let rowIndex = Math.min(currentIndex % é—´éš”, é—´éš” - (currentIndex % é—´éš”))

      // [ '', '', '' ] 0 0
      // [ 'L', '', '' ] 1 1
      // [ 'L', 'E', '' ] 2 2
      // [ 'L', 'E', 'E' ] 3 1
      // ......
      // [ 'LCIR', 'ETOESII', 'EDHN' ] 15 1

      // console.info(accumulator, currentIndex, rowIndex)

      accumulator[rowIndex] = accumulator[rowIndex] + strArr[currentIndex]

      return accumulator
    }, conversionArr)
    .join('')
}
```
