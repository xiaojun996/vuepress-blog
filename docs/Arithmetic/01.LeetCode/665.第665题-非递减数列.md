---
title: ç¬¬665é¢˜-éé€’å‡æ•°åˆ—
date: 2021-02-07 17:00:31
permalink: /pages/badac8/
categories:
  - LeetCode
tags:
  - ç®—æ³•
  - è´ªå¿ƒæ³•
  - Rust
---

### [é¢˜ç›®æè¿°](https://leetcode-cn.com/problems/non-decreasing-array/)

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º Â <font style="background: #eee; color: #666;">n</font>Â  çš„æ•´æ•°æ•°ç»„ï¼Œè¯·ä½ åˆ¤æ–­åœ¨ **æœ€å¤š** æ”¹å˜ Â <font style="background: #eee; color: #666;">1</font> ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹ï¼Œè¯¥æ•°ç»„èƒ½å¦å˜æˆä¸€ä¸ªéé€’å‡æ•°åˆ—ã€‚

æˆ‘ä»¬æ˜¯è¿™æ ·å®šä¹‰ä¸€ä¸ªéé€’å‡æ•°åˆ—çš„ï¼šÂ  å¯¹äºæ•°ç»„ä¸­æ‰€æœ‰çš„ Â <font style="background: #eee; color: #666;">i (0 <= i <= n-2)</font>ï¼Œæ€»æ»¡è¶³ <font style="background: #eee; color: #666;">nums[i] <= nums[i + 1]</font>ã€‚

<!-- more -->

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [4,2,3]
è¾“å‡º: true
è§£é‡Š: ä½ å¯ä»¥é€šè¿‡æŠŠç¬¬ä¸€ä¸ª4å˜æˆ1æ¥ä½¿å¾—å®ƒæˆä¸ºä¸€ä¸ªéé€’å‡æ•°åˆ—ã€‚
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [4,2,1]
è¾“å‡º: false
è§£é‡Š: ä½ ä¸èƒ½åœ¨åªæ”¹å˜ä¸€ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹å°†å…¶å˜ä¸ºéé€’å‡æ•°åˆ—ã€‚
```

**æç¤º:**

- <font style="background: #eee; color: #666;">1 <= n <= 10 ^ 4</font>
- <font style="background: #eee; color: #666;">- 10 ^ 5 <= nums[i] <= 10 ^ 5</font>

## è´ªå¿ƒæ³•

### æ€è·¯

- æœ‰ **2** ä¸ªä¸åŒçš„ä¾‹å­
  - **ä¾‹å­ 1:** <font style="background: #eee; color: #666;">[4, 2, 3]</font>
  - **ä¾‹å­ 2:** <font style="background: #eee; color: #666;">[3, 4, 2, 3]</font>
- å½“ <font style="background: #eee; color: #666;">nums[i - 1] > nums[i] </font>æ—¶ï¼Œä½¿ <font style="background: #eee; color: #666;">nums[i] = nums[i - 1]</font>ï¼š
  - [4, 2, 3]
  - [4, <font style="background: #eee; color: #666;">4</font>, 2]
  - ä¸€çœ¼å°±å¯ä»¥çœ‹å‡ºæ˜æ˜ **æ˜¯éé€’å‡æ•°åˆ—** ï¼Œä½†æ˜¯è¢«åˆ¤æ–­æˆ **ä¸æ˜¯éé€’å‡æ•°åˆ—**
- é‚£å¦‚æœä½¿ <font style="background: #eee; color: #666;">nums[i - 1] = nums[i]</font>ï¼Œåˆä¼šå‡ºç°è¿™ç§æƒ…å†µï¼š
  - [3, 4, 2, 3]
  - [3, <font style="background: #eee; color: #666;">2</font>, 2, 3]
  - ä¸€çœ¼å°±å¯ä»¥çœ‹å‡º **ä¸æ˜¯éé€’å‡æ•°åˆ—** ï¼Œä½†æ˜¯è¢«åˆ¤æ–­æˆ **æ˜¯éé€’å‡æ•°åˆ—**
- æ‰€ä»¥å¯ä»¥å¢åŠ ä¸€ä¸ª **è·ç¦»åˆ¤æ–­** ï¼Œå¦‚æœ <font style="background: #eee; color: #666;">nums[i - 2] > nums[i]</font>
  - å°±ç”¨ <font style="background: #eee; color: #666;">nums[i] = nums[i - 1]</font>
  - å¦åˆ™ <font style="background: #eee; color: #666;">nums[i - 1] = nums[i]</font>

### ä»£ç 

```TypeScript
function checkPossibility(nums: number[]): boolean {
  let count: number = 0
  let i: number = 0

  while (++i < nums.length && count < 2) {
    if (nums[i - 1] <= nums[i]) {
      continue
    }
    count++
    if (i - 2 >= 0 && nums[i - 2] > nums[i]) {
      nums[i] = nums[i - 1]
    } else {
      nums[i - 1] = nums[i]
    }
  }

  return count < 2
}
```

## Rust ç‰ˆ

- 4 ms 2 MB ğŸ‚ğŸº

### ä»£ç 

```Rust
impl Solution {
  pub fn check_possibility(nums: Vec<i32>) -> bool {
    let mut arr = nums;
    let mut count: i32 = 0;
    let mut i: i32 = 0;

    for i in 1..arr.len() {
      if count > 2 { break; }
      if arr[i - 1] <= arr[i] { continue; }

      count = count + 1;

      if i >= 2 && arr[i - 2] > arr[i] {
        arr[i] = arr[i - 1];
      } else {
        arr[i - 1] = arr[i];
      }
    }

    return count < 2;
  }
}
```
