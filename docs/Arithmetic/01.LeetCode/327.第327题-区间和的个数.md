---
title: ç¬¬327é¢˜-åŒºé—´å’Œçš„ä¸ªæ•°
date: 2020-11-07 21:46:02
permalink: /pages/0ed0a0/
categories:
  - LeetCode
tags:
  - ç®—æ³•
---

### [é¢˜ç›®æè¿°](https://leetcode-cn.com/problems/count-of-range-sum/)

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ Â numsï¼Œè¿”å›åŒºé—´å’Œåœ¨ Â [lower, upper]Â  ä¹‹é—´çš„ä¸ªæ•°ï¼ŒåŒ…å« Â lowerÂ  å’Œ Â upperã€‚

åŒºé—´å’Œ Â S(i, j)Â  è¡¨ç¤ºåœ¨ Â numsÂ  ä¸­ï¼Œä½ç½®ä» Â iÂ  åˆ° Â jÂ  çš„å…ƒç´ ä¹‹å’Œï¼ŒåŒ…å« Â iÂ  å’Œ Â jÂ (i â‰¤ j)ã€‚

**è¯´æ˜:**

æœ€ç›´è§‚çš„ç®—æ³•å¤æ‚åº¦æ˜¯ O(n2) ï¼Œè¯·åœ¨æ­¤åŸºç¡€ä¸Šä¼˜åŒ–ä½ çš„ç®—æ³•ã€‚

<!-- more -->

**ç¤ºä¾‹:**

```
è¾“å…¥: nums = [-2,5,-1], lower = -2, upper = 2,
è¾“å‡º: 3
è§£é‡Š: 3ä¸ªåŒºé—´åˆ†åˆ«æ˜¯: [0,0], [2,2], [0,2]ï¼Œå®ƒä»¬è¡¨ç¤ºçš„å’Œåˆ†åˆ«ä¸º: -2, -1, 2ã€‚
```

::: tip ç¿»è¯‘é¢˜ç›®ï¼ˆè¿™é¢˜ç›®æˆ‘æ²¡çœ‹æ‡‚ï¼‰

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’ŒèŒƒå›´åŒºé—´[lower,upper]ï¼Œ

å·²çŸ¥æ•°ç»„ nums å†…çš„å…ƒç´ ä¸ªæ•°ä¸º sizeï¼Œä»¥å…ƒç´ ç´¢å¼•(ä¸‹æ ‡)ä¸ºèµ·ç‚¹ï¼Œ

å…ƒç´ ä¸ªæ•°é€æ¬¡é€’å¢çš„æ–¹å¼è¿­ä»£è¿”å›æ•°ç»„å†…çš„å…ƒç´ å’Œï¼Œ

å½“å…ƒç´ å’Œè½åœ¨èŒƒå›´åŒºé—´ [lower,upper] å†…æ—¶ï¼Œè¿”å›å…ƒç´ ç´¢å¼•åŒºé—´ S(i,j) ï¼Œå¦‚æ­¤åå¤ç›´è‡³å…ƒç´ ç´¢å¼• i=size ï¼Œæ±‚ç´¢å¼•åŒºé—´ S(i,j) çš„ä¸ªæ•°ã€‚

**ç¤ºä¾‹:**

```
è¾“å…¥: nums = [-2,5,-1], lower = -2, upper = 2,

è¾“å‡º: 3

è§£é‡Š:
å…ƒç´ ç´¢å¼•i=0æ—¶ï¼Œå…ƒç´ ä¸ªæ•°é€æ¬¡é€’å¢è¿­ä»£æœ‰ä»¥ä¸‹å­æ•°ç»„[-2]ï¼Œ[-2,5]ï¼Œ[-2,5,-1]ï¼Œ
å¯¹åº”å…ƒç´ å’Œä¸º-2ï¼Œ3ï¼Œ2ï¼Œ
å…¶ä¸­-2å’Œ2è½åœ¨èŒƒå›´åŒºé—´[lower = -2ï¼Œupper = 2]ä¹‹é—´ï¼Œ
å› æ­¤å…ƒç´ ç´¢å¼•åŒºé—´[0,0]ï¼Œ[0,2]ç¬¦åˆè¦æ±‚(æ³¨æ„æ˜¯å…ƒç´ ç´¢å¼•åŒºé—´)ï¼Œ
ä»¥æ­¤ç±»æ¨i=1æ—¶æœ‰å­æ•°ç»„[5]ï¼Œ[5,-1]ï¼Œ
i=2æ—¶æœ‰å­æ•°ç»„[-1]ï¼Œ
æœ€ç»ˆå¾—åˆ°ç¬¦åˆè¦æ±‚çš„å…ƒç´ ç´¢å¼•åŒºé—´ä¸º[0,0]ï¼Œ[0,2]ï¼Œ[2,2]ã€‚
```

[é«˜èµ TchaikovskyBear](https://leetcode-cn.com/problems/count-of-range-sum/comments/)

:::

### æš´åŠ›ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰

### è§£é¢˜æ€è·¯

- ç®€å• O(n2)æš´åŠ›è›¤ ğŸ¤“ ï½

```JavaScript
/**
 * @param {Number[]} nums
 * @param {Number} lower
 * @param {Number} upper
 * @return {Number}
 */
const countRangeSum = (nums, lower, upper) => {
  let count = 0
  for (let left = 0; left < nums.length; left++) {
    let sum = 0
    // nums çš„åŒºé—´ [left, right] çš„'å’Œ'å°±æ˜¯ sum
    // é¢˜ç›®è¦æ±‚æˆ‘ä»¬åˆ¤æ–­åŒºé—´å†…å…ƒç´ çš„'å’Œ'ï¼Œæ˜¯å¦ lower <= sum <= upper
    // ï¼ˆåæ§½ä¸€ä¸‹ï¼Œè¿™é¢˜è´¼éš¾æ‡‚ï¼Œä¸çŸ¥é“æ˜¯æˆ‘ä¸­æ–‡æ°´å¹³ä¸è¡Œ?ğŸ˜°ï¼‰
    // left = 0 æ—¶ æœ‰ï¼š [0,0] [0,1] [0,2]
    // left = 1 æ—¶ æœ‰ï¼š [1,1] [1,2]
    // left = 2 æ—¶ æœ‰ï¼š [2,2]
    for (let right = left; right < nums.length; right++) {
      // leftç­‰äºrightçš„æ—¶å€™ï¼ŒåŒºé—´å†…å°±ä¸€ä¸ªå€¼ï¼Œå°±æ˜¯å½“å‰leftä½ç½®çš„å€¼ï¼ˆæˆ–è€…rightä½ç½®ï¼‰
      if (left === right) {
        sum = nums[left]
      } else {
        sum = sum + nums[right]
      }
      count += sum >= lower && sum <= upper ? 1 : 0
    }
  }
  return count
}
```
