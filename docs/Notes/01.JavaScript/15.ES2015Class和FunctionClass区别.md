---
title: ES2015 Class 和 Function Class 区别
date: 2021-07-26 10:51:41
permalink: /pages/9156a0/
categories:
  - JavaScript
tags:
  - ES2015
  - Class
  - forin
  - forof
---

```js
/* Real Class */
class AppleReal {
  constructor({ model }) {
    this.className = 'Apple'
    this.model = model
  }
  getModel() {
    return this.model
  }
}

/* Fake Class */
function AppleFake({ model }) {
  this.className = 'Apple'
  this.model = model
}

AppleFake.prototype.getModelShow = function() {
  return this.model
}

Object.defineProperty(AppleFake.prototype, 'getModelHide', {
  configurable: true,
  enumerable: false, // 使得 for in 不可枚举，因为 ES2015 Class 其特定的语义：类内部声明的方法，是不可枚举的。
  value() {
    return this.model
  },
  writable: true,
})

const appleRealKey = new AppleReal({ model: 'IphoneX' })
const appleFakeKey = new AppleFake({ model: 'IphoneX' })

console.log('----------Real Start--------')
for (const key of Object.keys(appleRealKey)) console.log('appleRealKey-of', key)
console.log()
for (const key in appleRealKey) console.log('appleRealKey-in', key)
console.log('----------Real End----------')

console.log()

console.log('----------Fake Start--------')
for (const key of Object.keys(appleFakeKey)) console.log('appleFakeKey-of', key)
console.log()
for (const key in appleFakeKey) console.log('appleFakeKey-in', key)
console.log('----------Fake End----------')
```

```
----------Real Start--------
appleRealKey-of className
appleRealKey-of model

appleRealKey-in className
appleRealKey-in model
----------Real End----------

----------Fake Start--------
appleFakeKey-of className
appleFakeKey-of model

appleFakeKey-in className
appleFakeKey-in model
appleFakeKey-in getModelShow
----------Fake End----------
```
