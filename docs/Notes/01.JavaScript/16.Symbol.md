---
title: Symbol
date: 2021-07-26 21:31:56
permalink: /pages/ec6c8f/
categories:
  - JavaScript
tags:
  - Symbol
---

```TypeScript
const toStr = Object.prototype.toString

const Fragment = Symbol('Fragment') as any as { __isFragment: true }
const Fragment1 = Symbol('Fragment1')

console.log(Fragment) //                           Symbol(Fragment)
console.log(Fragment.valueOf() === Fragment) //    true
console.log(Fragment.toString()) //                'Symbol(Fragment)'
console.log(toStr.call(Fragment)) //               '[object Symbol]'
console.log(Reflect.apply(toStr, Fragment, [])) // '[object Symbol]'
console.log(typeof Fragment === 'symbol') //       true

console.log(Object.getOwnPropertyNames(Symbol).map(key => (Symbol as any)[key]).filter(val => typeof val === 'symbol'))
/*
[
  Symbol(Symbol.asyncIterator),
  Symbol(Symbol.hasInstance),
  Symbol(Symbol.isConcatSpreadable),
  Symbol(Symbol.iterator),
  Symbol(Symbol.match),
  Symbol(Symbol.matchAll),
  Symbol(Symbol.replace),
  Symbol(Symbol.search),
  Symbol(Symbol.species),
  Symbol(Symbol.split),
  Symbol(Symbol.toPrimitive),
  Symbol(Symbol.toStringTag),
  Symbol(Symbol.unscopables)
]
*/


// 创建一个全局 Symbol
const globalSym = Symbol.for("foo")
Symbol.keyFor(globalSym) // "foo"

const localSym = Symbol()
Symbol.keyFor(localSym) // undefined，

// 以下 Symbol 不是保存在全局 Symbol 注册表中
Symbol.keyFor(Symbol.iterator) // undefined
```
