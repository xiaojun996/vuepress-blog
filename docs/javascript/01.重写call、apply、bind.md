---
title: 重写call、apply、bind
date: 2020-08-06 21:32:12
permalink: /pages/6e2f5c/
categories:
  - JavaScript
tags:
  - JavaScript
  - call
---

# 重写一下 call、apply、bind 的实现吧！

### 实现代码

- call 的实现

```JavaScript
Function.prototype.myCall = function(...args) {
  if(typeof this !== 'function' || Object.prototype.toString.call(this) !== '[object Function]') {
    throw new TypeError('Must call with funciton!')
  }
  const realThis = args.shift() || globalThis
  const realArgs = args
  const symbolFn = Symbol('fn')
  realThis[symbolFn] = this
  const response = realThis[symbolFn](...realArgs)
  delete realThis[symbolFn]
  return response
}
```

- apply 的实现

```JavaScript
Function.prototype.myApply = function(...args) {
  if(typeof this !== 'function' || Object.prototype.toString.call(this) !== '[object Function]') {
    throw new TypeError('Must call with funciton!')
  }
  const realThis = args[0] || globalThis
  const realArgs = args[1]
  const symbolFn = Symbol('fn')
  realThis[symbolFn] = this
  const response = realThis[symbolFn](...realArgs)
  delete realThis[symbolFn]
  return response
}
```

- bind 的实现

```JavaScript
Function.prototype.myBind = function(...args) {
  if(typeof this !== 'function' || Object.prototype.toString.call(this) !== '[object Function]') {
    throw new TypeError('Must call with funciton!')
  }
  const _fn = this
  const realThis = args.shift() || globalThis
  const beforeArgs = args
  return function(...afterArgs) {
    return _fn.myApply(realThis, [...beforeArgs, ...afterArgs])
  }
}
```
