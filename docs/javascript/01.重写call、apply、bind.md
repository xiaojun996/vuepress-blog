---
title: 重写call、apply、bind
date: 2020-08-04 21:32:12
permalink: /pages/6e2f5c/
categories: 
  - javascript
tags: 
  - JavaScript
---
```JavaScript
Function.prototype.myCall = function(...args) {
  if(typeof this !== 'function' || Object.prototype.toString.call(this) !== '[object Function]') {
    throw new TypeError('Must call with funciton!')
  }
  const realThis = args.shift() || globalThis
  const realArgs = args
  const symbolFn = Symbol('fn')
  realThis[symbolFn] = this
  const response = realThis[symbolFn](...realArgs)
  delete realThis[symbolFn]
  return response
}
```

```JavaScript
Function.prototype.myApply = function(...args) {
  if(typeof this !== 'function' || Object.prototype.toString.call(this) !== '[object Function]') {
    throw new TypeError('Must call with funciton!')
  }
  const realThis = args[0] || globalThis
  const realArgs = args[1]
  const symbolFn = Symbol('fn')
  realThis[symbolFn] = this
  const response = realThis[symbolFn](...realArgs)
  delete realThis[symbolFn]
  return response
}
```

```JavaScript
Function.prototype.myBind = function(...args) {
  if(typeof this !== 'function' || Object.prototype.toString.call(this) !== '[object Function]') {
    throw new TypeError('Must call with funciton!')
  }
  const _fn = this
  const realThis = args.shift() || globalThis
  const beforeArgs = args
  return function(...afterArgs) {
    return _fn.myApply(realThis, [...beforeArgs, ...afterArgs])
  }
}
```